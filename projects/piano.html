<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voltage-to-Frequency Piano - Project Details</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="project-detail-container">
        <!-- Header -->
        <header class="detail-header">
            <div class="header-top">
                <a href="../index.html" class="btn btn-sm btn-glass back-btn"><i class="fa-solid fa-arrow-left"></i>
                    Back to Home</a>
            </div>
            <div class="header-main">
                <h1>Voltage-to-Frequency Piano</h1>
            </div>
            <div class="detail-meta">
                <span><i class="fa-regular fa-calendar"></i> Fall 2024</span>
                <span class="tech-tag">Analog Circuits</span>
                <span class="tech-tag">LTSpice</span>
                <span class="tech-tag">Signal Processing</span>
            </div>
        </header>

        <!-- Main Content Grid -->
        <div class="detail-grid">

            <!-- Description & Logic -->
            <!-- Introduction -->
            <section class="detail-section glass-panel">
                <h2>1. Introduction</h2>
                <div class="text-content">
                    <p>
                        This project focuses on building an electronic piano using analog components. The design
                        allows us to play 12 musical notes across a single octave, from A4 (440 Hz) to A5 (880 Hz).
                        The core idea is that each button on the keyboard produces a unique voltage, and that
                        voltage determines the pitch of the sound.
                    </p>
                    <p>
                        The design assumes that only one button is pressed at a time. This simplifies both the
                        hardware and the logic, and it makes the system easier to test. The range of notes was
                        chosen based on what the circuit can generate reliably, and the values for each component
                        were selected to keep the output stable and within the right frequency range.
                    </p>
                </div>
            </section>

            <!-- System Architecture -->
            <section class="detail-section glass-panel">
                <h2>2. System Architecture / Block Diagram</h2>
                <div class="text-content">
                    <p>
                        The system includes five main parts. First is the set of push-buttons, which acts as the
                        interface for playing notes. Each button is connected to a pin of an arduino micro that is
                        connected to the MCP4725 Digital to Analog Converter breakout board. The Vout of the
                        DAC, regulated through the arduino, goes into a voltage-to-frequency converter, which turns
                        it into a waveform with a corresponding frequency. From there the signal passes through an
                        audio amplifier and then into a speaker, which produces the sound.
                    </p>

                    <div class="technical-image-container"
                        style="margin-top: 2rem; background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 8px;">
                        <img src="../assets/images/piano_block_diagram.png" alt="System Block Diagram"
                            style="width: 100%; max-width: 650px; display: block; margin: 0 auto; border-radius: 4px;">
                        <p class="caption"
                            style="text-align: center; color: var(--text-secondary); margin-top: 0.5rem; font-size: 0.9rem;">
                            Figure 1: Block diagram of the full system. Each button generates a voltage corresponding to
                            a
                            musical note, which is converted into a frequency, amplified, and played through a speaker.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Theoretical Analysis -->
            <section class="detail-section glass-panel">
                <h2>3. Theoretical Analysis</h2>
                <div class="text-content">
                    <h3>Key Input Interface and DAC</h3>
                    <p>
                        While our original design at first implemented a simple resistor ladder as the DAC, we
                        pivoted to a more integrated approach by using an Arduino Micro board interfaced with a
                        separate MCP4725 DAC chip. The primary reason we pivoted is because the digital DAC
                        is able to specify our target voltage with extreme precision given the C++ code we wrote
                        in the Arduino sketch. In this scenario, each button is fed into a data pin on the micro,
                        which is then processed to output a constant voltage. Our DAC and its wired configuration
                        is detailed below.
                    </p>

                    <!-- Digital DAC Module Image -->
                    <div class="technical-image-container"
                        style="margin-top: 2rem; margin-bottom: 2rem; background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 8px;">
                        <img src="../assets/images/digital_dac_module.png" alt="Digital DAC Module"
                            style="width: 100%; max-width: 500px; display: block; margin: 0 auto; border-radius: 4px;">
                        <p class="caption"
                            style="text-align: center; color: var(--text-secondary); margin-top: 0.5rem; font-size: 0.9rem;">
                            Figure 2: Digital DAC Module<br>
                            The purpose of this block is to generate a unique DC voltage for each note/button. These DC
                            voltages and their corresponding frequencies and notes are summarized in the table below
                            when testing the actual circuit.
                        </p>
                    </div>

                    <!-- Frequency Table -->
                    <div class="table-container" style="overflow-x: auto;">
                        <table
                            style="width: 100%; border-collapse: collapse; margin-top: 1rem; color: var(--text-primary);">
                            <thead>
                                <tr style="background: rgba(255,255,255,0.1); text-align: left;">
                                    <th style="padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.1);">Note</th>
                                    <th style="padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.1);">Frequency
                                        (Hz)</th>
                                    <th style="padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                        V<sub>Out</sub> (V)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        A<sub>4</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">440</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.35</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        A#<sub>4</sub>/B♭<sub>4</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">466</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.37</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        B<sub>4</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">494</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.39</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        C<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">523</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.42</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        C#<sub>5</sub>/D♭<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">554</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.45</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        D<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">587</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.475
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        D#<sub>5</sub>/E♭<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">622</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.505
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        E<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">659</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.535
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        F<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">698</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.575
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        F#<sub>5</sub>/G♭<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">740</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.615
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        G<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">784</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.65</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        G#<sub>5</sub>/A♭<sub>5</sub></td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">831</td>
                                    <td style="padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05);">0.70</td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="caption"
                            style="text-align: center; color: var(--text-secondary); margin-top: 0.5rem; font-size: 0.9rem;">
                            Table 1: DAC design for 5th octave
                        </p>
                    </div>

                </div>
        </div>
</body>

</html>